generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Event {
  id String @id() @default(uuid())
  name String
  description String
  status Boolean @default(false)
  grouped Boolean @default(false)
  EventGroup EventGroup[]
  EventPeople EventPeople[]

  @@map("events")
}

model EventGroup {
  id String @id() @default(uuid())
  event_id String
  name String

  event Event? @relation(fields: [event_id], references: [id])
  EventPeople EventPeople[]

  @@map("event_groups")
}

model EventPeople {
  id String @id() @default(uuid())
  event_id String
  event_group_id String
  name String
  phone String
  matched String @default("")

  event Event? @relation(fields: [event_id], references: [id])
  event_group EventGroup? @relation(fields: [event_group_id], references: [id])

  @@map("event_peoples")
}
